![img](./assets/202408231022380.png)

# 分支管理

## master 分支

1. 给分支为只读分支，并且只有一个，用于部署到正式发布环境，由合并 `release` 分支得到

2. 主分支作为稳定的唯一代码，任何情况下不允许直接在 `master` 上修改代码

3. 产品功能全部实现后，最终在 `master` 分支对外发布，另外所有在 `master` 的推送都应该打上 `tag` 记录，方便追朔（也就是发布一次就要打上标签）

4. `master` 分支不可删除

## develop 分支

1. `develop` 分支作为开发分支，是基于 `master` 分支创建的只读唯一分支，始终保持最新完成的 `bug` 修复后的代码，可部署到开发环境对应集群

2. 可根据需求大小程度确定是由 `feature` 分支合并，还是直接在上面开发（后者不太推荐）

## feature 分支

1. `feature` 分支通常都作为新功能和新特性开发分支，是以 `develop` 分支为基础创建的

2. 命名一般以 `feature/` 开头，建议的命名规范为：`feature/user_createtime_feature`

3. 新功能开发完成后，开发者需要将 `feature` 分支合并到 `develop` 分支

4. 一旦新需求发布上线后，便要将该分支删除

## release 分支

1. `release` 分支为预发布分支，基于本次上线所有的 `feature` 分支合并到 `develop` 分支后，再基于 `develop` 分支创建，可以部署到测试或预发布集群

2. 命名也有规范，一般 `release/` 开头，建议命名规则为：`release/version_publishtime`

3. `release` 分支主要用于提交给测试人员进行功能测试。发布提测阶段，会以 `release` 分支为基准进行提测

4. `release` 分支测试出问题，则需要回归 `develop` 分支查看是否存在此问题

5. `release` 分支属于临时分支，产品上线后可以选择删除

## hotfix 分支

1. `hotfix` 分支是线上出现紧急 `bug` 问题时，提交补丁时使用，又叫”补丁分支“，需要基于 `master` 分支创建 `hotfix` 分支

2. 命名 `hotfix/` 开头，建议命名规范为：`hotfix/user_createtime_hotfix`

3. 当问题修复完成后，需要合并到 `develop` 分支并推送到远程。一旦修复测试通过，就通过 `develop` 远端合并到 `master` 远端分支，并且结束后需要将其删除
